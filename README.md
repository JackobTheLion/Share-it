## :handshake: ShareIt

### :question: Что это?
Бэкенд простого приложения для шеринга* личных вещей.
Приложение состоит из трех микросервисов:
#### :door: Gateway
Гейтвей, принимающий все запросы и осуществляющий базовую (не задействующую бизнес логику) валидацию на корректность 
запроса. Если запрос корректен, направляет его на сервер, а затем транслирует ответ, не меняя его.

#### :computer: Server
Сервер принимает запросы от гейтвея, запускает бизнес логику, а также общается с базой данных и возвращает результат 
гейтвею.

#### :floppy_disk: DB
База данных хранит все данные приложения.

**Шеринг - это совместное, коллективное использование и потребление различных вещей и услуг.*
___

### :star: Возможности приложения:
* Пользователи могут оставлять запросы на вещь, которая им нужна.
* Пользователи могут выставлять свои личные вещи для шеринга. Вещи можно выставлять как в ответ на запрос, так и без него.
* Каждый пользователь может забронировать вещь на определенный срок. Не допускается:
  * пересечения бронирований;
  * бронирование "задним числом";
  * окончание бронирования раньше его начала.
* Каждый пользователь может посмотреть список своих вещей, а также последнее и следующее бронирование.
* Каждый пользователь может посмотреть список своих бронирований, а также список бронирований его вещей со следующими статусами:
  * ALL - все бронирования;
  * CURRENT - текущий бронирования;
  * PAST - прошедшие бронирования;
  * FUTURE - предстоящие бронирования;
  * WAITING - ожидающие ответа владельца вещи;
  * REJECTED - отклоненные бронирования.
* После окончания бронирования, пользователь может оставить комментарий о вещи.
___
### :globe_with_meridians: Описание API приложения:
Описание API сервера [здесь](info/shareit_server_api.yaml). Gateway транслирует ответы сервера без изменений. \
Описание API гейтвей [здесь](info/shareit_gateway_api.yaml).
___
### :gear: Технологический стек
* Java 11
* Spring Boot
* Hibernate
* Junit
* Mockito
* Lombok
* PostgresSQL
* Maven
* Docker Compose
___
### :page_with_curl: Инструкция по запуску:
Скачать проект.
Если временная зона пользователя отличается от UTC+0, то указать нужную временную зону в сервисе server docker-compose файла. \
Убедитесь, что порт 8080 свободен.
``` dockerfile
  server:
    build: server/
    image: shareit-server-image
    container_name: shareit-server
    depends_on:
      - db
    environment:
      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/shareit
      - POSTGRES_USER=root
      - POSTGRES_PASSWORD=root
      - TZ=GMT+3 #Moscow timezone
```
Собрать проект:
```shell
docker compose build
```
Запустить проект: 
```shell
docker compose up
```
___
### :man_technologist: TODO
- [ ] добавить возможность прикреплять фото вещи
- [ ] добавить в кеш, для снижения количества запросов к серверу
